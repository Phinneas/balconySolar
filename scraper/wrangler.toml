name = "balcony-solar-scraper"
main = "src/index.js"
compatibility_date = "2024-01-01"
type = "service"

# Cron trigger for weekly updates (Monday 2 AM UTC)
# Cron expression: minute hour day month day-of-week
# 0 2 * * 1 = Every Monday at 2:00 AM UTC
[triggers]
crons = ["0 2 * * 1"]

# Production environment configuration
[env.production]
vars = { ENVIRONMENT = "production", TEABLE_API_URL = "https://app.teable.ai/api", TEABLE_BASE_ID = "bseTnc7nTi3FYus3yIk", TEABLE_API_TOKEN = "teable_accQGmhU1fVBigSZL4a_gsnFqNXarx/RjkgVZXnieOhSeMkSmyugBV0N9Mekvfk=", API_CACHE_INVALIDATE_URL = "https://api.solarcurrents.com/api/cache-invalidate", ADMIN_EMAIL = "admin@solarcurrents.com", ENABLE_ERROR_NOTIFICATIONS = "true", MAX_EXECUTION_TIME_MS = "30000", RETRY_ATTEMPTS = "3", RETRY_BACKOFF_MS = "5000" }

# Staging environment configuration
[env.staging]
vars = { ENVIRONMENT = "staging", TEABLE_API_URL = "https://app.teable.ai/api", TEABLE_BASE_ID = "bseTnc7nTi3FYus3yIk", TEABLE_API_TOKEN = "teable_accQGmhU1fVBigSZL4a_gsnFqNXarx/RjkgVZXnieOhSeMkSmyugBV0N9Mekvfk=", API_CACHE_INVALIDATE_URL = "https://api-staging.solarcurrents.com/api/cache-invalidate", ADMIN_EMAIL = "staging@solarcurrents.com", ENABLE_ERROR_NOTIFICATIONS = "false" }
